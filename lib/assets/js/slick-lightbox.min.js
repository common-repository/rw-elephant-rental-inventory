"use strict";!function(a){var b,c;b=function(){function b(b,c){var d;this.options=c,this.$element=a(b),this.didInit=!1,d=this,this.$element.on("click.slickLightbox",this.options.itemSelector,function(b){var c,e;if(b.preventDefault(),c=a(this),c.blur(),"function"!=typeof d.options.shouldOpen||d.options.shouldOpen(d,c,b))return e=d.$element.find(d.options.itemSelector),d.elementIsSlick()&&(e=d.filterOutSlickClones(e),c=d.handlePossibleCloneClick(c,e)),d.init(e.index(c))})}return b.prototype.init=function(a){return this.didInit=!0,this.detectIE(),this.createModal(),this.bindEvents(),this.initSlick(a),this.open()},b.prototype.createModalItems=function(){var b,c,d,e,f,g;return e=this.options.lazyPlaceholder||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",d=function(a,b,c){return'<div class="slick-lightbox-slick-item">\n  <div class="slick-lightbox-slick-item-inner">\n    <img class="slick-lightbox-slick-img" '+(!0===c?' data-lazy="'+a+'" src="'+e+'" ':' src="'+a+'" ')+" />\n    "+b+"\n  </div>\n</div>"},this.options.images?g=a.map(this.options.images,function(a){return function(b){return d(b,a.options.lazy)}}(this)):(b=this.filterOutSlickClones(this.$element.find(this.options.itemSelector)),f=b.length,c=function(a){return function(b,c){var e,g,h;return g={index:c,length:f},e=a.getElementCaption(b,g),h=a.getElementSrc(b),d(h,e,a.options.lazy)}}(this),g=a.map(b,c)),g},b.prototype.createModal=function(){var b,c;return c=this.createModalItems(),b='<div class="slick-lightbox slick-lightbox-hide-init'+(this.isIE?" slick-lightbox-ie":"")+'" style="background: '+this.options.background+';">\n  <div class="slick-lightbox-inner">\n    <div class="slick-lightbox-slick slick-caption-'+this.options.captionPosition+'">'+c.join("")+"</div>\n  <div>\n<div>",this.$modalElement=a(b),this.$parts={},this.$parts.closeButton=a(this.options.layouts.closeButton),this.$modalElement.find(".slick-lightbox-inner").append(this.$parts.closeButton),a("body").append(this.$modalElement)},b.prototype.initSlick=function(b){var c;return c={initialSlide:b},this.options.lazy&&(c.lazyLoad="ondemand"),null!=this.options.slick?"function"==typeof this.options.slick?this.slick=this.options.slick(this.$modalElement):this.slick=this.$modalElement.find(".slick-lightbox-slick").slick(a.extend({},this.options.slick,c)):this.slick=this.$modalElement.find(".slick-lightbox-slick").slick(c),this.$modalElement.trigger("init.slickLightbox")},b.prototype.open=function(){return this.options.useHistoryApi&&this.writeHistory(),this.$element.trigger("show.slickLightbox"),setTimeout(function(a){return function(){return a.$element.trigger("shown.slickLightbox")}}(this),this.getTransitionDuration()),this.$modalElement.removeClass("slick-lightbox-hide-init")},b.prototype.close=function(){return this.$element.trigger("hide.slickLightbox"),setTimeout(function(a){return function(){return a.$element.trigger("hidden.slickLightbox")}}(this),this.getTransitionDuration()),this.$modalElement.addClass("slick-lightbox-hide"),this.destroy()},b.prototype.bindEvents=function(){var b;if(b=function(a){return function(){var b;return b=a.$modalElement.find(".slick-lightbox-inner").height(),a.$modalElement.find(".slick-lightbox-slick-item").height(b),a.$modalElement.find(".slick-lightbox-slick-img, .slick-lightbox-slick-item-inner").css("max-height",Math.round(a.options.imageMaxHeight*b))}}(this),a(window).on("orientationchange.slickLightbox resize.slickLightbox",b),this.options.useHistoryApi&&a(window).on("popstate.slickLightbox",function(a){return function(){return a.close()}}(this)),this.$modalElement.on("init.slickLightbox",b),this.$modalElement.on("destroy.slickLightbox",function(a){return function(){return a.destroy()}}(this)),this.$element.on("destroy.slickLightbox",function(a){return function(){return a.destroy(!0)}}(this)),this.$parts.closeButton.on("click.slickLightbox touchstart.slickLightbox",function(a){return function(b){return b.preventDefault(),a.close()}}(this)),(this.options.closeOnEscape||this.options.navigateByKeyboard)&&a(document).on("keydown.slickLightbox",function(a){return function(b){var c;if(c=b.keyCode?b.keyCode:b.which,a.options.navigateByKeyboard&&(37===c?a.slideSlick("left"):39===c&&a.slideSlick("right")),a.options.closeOnEscape&&27===c)return a.close()}}(this)),this.options.closeOnBackdropClick)return this.$modalElement.on("click.slickLightbox touchstart.slickLightbox",".slick-lightbox-slick-img",function(a){return a.stopPropagation()}),this.$modalElement.on("click.slickLightbox",".slick-lightbox-slick-item",function(a){return function(b){return b.preventDefault(),a.close()}}(this))},b.prototype.slideSlick=function(a){return"left"===a?this.slick.slick("slickPrev"):this.slick.slick("slickNext")},b.prototype.detectIE=function(){if(this.isIE=!1,/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&new Number(RegExp.$1)<9)return this.isIE=!0},b.prototype.getElementCaption=function(b,c){return this.options.caption?'<span class="slick-lightbox-slick-caption">'+function(){switch(typeof this.options.caption){case"function":return this.options.caption(b,c);case"string":return a(b).data(this.options.caption)}}.call(this)+"</span>":""},b.prototype.getElementSrc=function(b){switch(typeof this.options.src){case"function":return this.options.src(b);case"string":return a(b).attr(this.options.src);default:return b.href}},b.prototype.unbindEvents=function(){return a(window).off(".slickLightbox"),a(document).off(".slickLightbox"),this.$modalElement.off(".slickLightbox")},b.prototype.destroy=function(a){if(null==a&&(a=!1),this.didInit&&(this.unbindEvents(),setTimeout(function(a){return function(){return a.$modalElement.remove()}}(this),this.options.destroyTimeout)),a)return this.$element.off(".slickLightbox"),this.$element.off(".slickLightbox",this.options.itemSelector)},b.prototype.destroyPrevious=function(){return a("body").children(".slick-lightbox").trigger("destroy.slickLightbox")},b.prototype.getTransitionDuration=function(){var a;return this.transitionDuration?this.transitionDuration:(a=this.$modalElement.css("transition-duration"),this.transitionDuration=void 0===a?500:a.indexOf("ms")>-1?parseFloat(a):1e3*parseFloat(a))},b.prototype.writeHistory=function(){return"undefined"!=typeof history&&null!==history&&"function"==typeof history.pushState?history.pushState(null,null,""):void 0},b.prototype.filterOutSlickClones=function(b){return this.elementIsSlick()?b=b.filter(function(){var b;return b=a(this),!b.hasClass("slick-cloned")&&0===b.parents(".slick-cloned").length}):b},b.prototype.handlePossibleCloneClick=function(b,c){var d;return this.elementIsSlick()&&b.closest(".slick-slide").hasClass("slick-cloned")?(d=b.attr("href"),c.filter(function(){return a(this).attr("href")===d}).first()):b},b.prototype.elementIsSlick=function(){return this.$element.hasClass("slick-slider")},b}(),c={background:"rgba(0,0,0,.8)",closeOnEscape:!0,closeOnBackdropClick:!0,destroyTimeout:500,itemSelector:"a",navigateByKeyboard:!0,src:!1,caption:!1,captionPosition:"dynamic",images:!1,slick:{},useHistoryApi:!1,layouts:{closeButton:'<button type="button" class="slick-lightbox-close"></button>'},shouldOpen:null,imageMaxHeight:.9,lazy:!1},a.fn.slickLightbox=function(d){return d=a.extend({},c,d),a(this).each(function(){return this.slickLightbox=new b(this,d)}),this},a.fn.unslickLightbox=function(){return a(this).trigger("destroy.slickLightbox").each(function(){return this.slickLightbox=null})}}(jQuery);