!function(a){var b={addToWishlist:function(c){if(c.preventDefault(),a(this).blur(),!a(this).hasClass("loading")){var d=a(this).data("itemid"),e=a(this).data("wishlistquantity"),f=a(this).data("wishlistremovetext"),g=a(this).data("wishlistaddtext");if(a(this).hasClass("remove-from-wishlist"))return void b.remove(this,d,e,g);b.add(this,d,e,f)}},add:function(c,d,e,f){var g=b.get(),h=parseInt(e),i=void 0!==e?e:0===h?1:h;g?g.push({itemID:d,quantity:i}):g=[{itemID:d,quantity:i}],b.togglePreloader(c),b.set(g),setTimeout(function(){var e=a(c).closest(".rwe-item").find(".rwe-item__link").attr("title");void 0===e&&(e=a(c).closest(".rwe-data").find(".rwe-data__title").text()),b.addToWidget(d,e),a(c).find("span.text").html(f),a(c).removeClass("add-to-wishlist").addClass("remove-from-wishlist"),b.togglePreloader(c)},800)},removeFromWishlistWidget:function(b){a("ul.wishlist").find('li.item[data-itemid="'+b+'"]').fadeOut("slow",function(){a(this).remove(),a("ul.wishlist > li.item").length||a("ul.wishlist").append('<li class="empty-wishlist-text"><p>'+rweWishlistData.emptyWishlistText+"</p></li>")})},addToWidget:function(b,c){a("li.empty-wishlist-text").remove();var d=a("ul.wishlist"),e='<li class="item" data-itemid="'+b+'"><a href="'+rweWishlistData.urlBase.replace("productID",b)+'">'+c+'</a><div class="js-remove-from-wishlist rwe-item__remove" data-itemid="'+b+'"><span class="rwe-icon rwe-icon--remove"><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.586L2.173.759A.999.999 0 1 0 .76 2.173L3.586 5 .759 7.827A.999.999 0 1 0 2.173 9.24L5 6.414l2.827 2.827A.999.999 0 1 0 9.24 7.827L6.414 5l2.827-2.827A.999.999 0 1 0 7.827.76L5 3.586z" fill-rule="evenodd"></path></svg></span></div></li>';d.append(e)},remove:function(c,d,e,f){var g=b.get();if(!g)return void console.error("RW Elephant wishlist cookie not set.");b.togglePreloader(c);for(var h=0;h<g.length;h++)g[h].itemID===d&&g.splice(h,1);b.set(g),setTimeout(function(){a('.js-add-to-wishlist[data-itemid="'+d+'"]').find("span.text").html(f),a('.js-add-to-wishlist[data-itemid="'+d+'"]').removeClass("remove-from-wishlist").addClass("add-to-wishlist"),b.removeFromWishlistWidget(d),b.togglePreloader(c)},800)},updateQuantity:function(){var c=a(this).data("inventory-id"),d=a(this).val();b.remove(this,c),b.add(this,c,d)},get:function(){var a=new RegExp("rw-elephant-wishlist=([^;]+)"),b=a.exec(document.cookie);return null!=b?JSON.parse(b[1]):null},set:function(a){var b=new Date,c=new Date;c.setTime(b.getTime()+6048e5),document.cookie="rw-elephant-wishlist="+JSON.stringify(a)+"; expires='"+c.toGMTString()+"'; path=/"},togglePreloader:function(b){a(b).toggleClass("loading").find(".rwe-circle-preloader").toggle()},removeFromWishlistPage:function(){var c=a(this).data("itemid");b.remove(this,c),a(this).closest(".rwe-grid__item, li.item").fadeOut("slow",function(){a(this).remove(),a("ul.wishlist > li.item").length||a("ul.wishlist").append('<li class="empty-wishlist-text"><p>'+rweWishlistData.emptyWishlistText+"</p></li>"),a(".rwe-item").length>=1||(a(".rwe-submit-wishlist-btn").remove(),a(".rwe-wishlist-empty").fadeIn())})},datePickerInit:function(){if(a(".js-date").length){new Pikaday({field:a(".js-date")[0],format:"MM-DD-YYYY"})}},validateWishlist:function(b){a(".rwe-item__quantity-input .text-input").each(function(){var c=a(this).attr("max"),d=a(this).val();parseInt(c)<parseInt(d)&&(b.preventDefault(),a(this).after('<p class="error">'+rweWishlistData.wishlistQuantityError+c+"</p>")),0==d&&a(this).val(1)})}};a("body").on("click",".js-add-to-wishlist",b.addToWishlist),a("body").on("click",".js-remove-from-wishlist",b.removeFromWishlistPage),a("body").on("click",".rwe-submit-wishlist-btn",b.validateWishlist),a("body").on("change",'.rwe-item__quantity-input input[type="number"]',b.updateQuantity),a(document).ready(b.datePickerInit)}(jQuery);